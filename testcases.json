{
  "config": {
    "target": "http://18.206.176.53:3000",
    "phases": [
      {"duration": 1, "arrivalCount": 1}
    ],
    "payload": [
    {
      "path": "UserData.csv",
      "fields": ["fname","lname","address","city","state","zip","email","username", "password"],
      "order": "sequence"
    },
    {
      "path": "productData.csv",
      "fields": ["asin","productName","productDescription","group"],
      "order": "sequence"
    }
  ]
  },
  "scenarios": [
    {
      "name": "login not registered",
      "flow": [
        {"post": {
          "url": "/login",
          "json": {"username":"{{{ username }}}","password":"{{ password }}"},
          "match":{
            "json":"$.message",
            "value":"There seems to be an issue with the username/password combination that you entered"
          }
         }
       },
       {"post": {
         "url": "/registerUser",
         "json": {"fname":"{{{fname}}}", "lname":"{{lname}}", "address":"{{{address}}}","city":"{{{city}}}","state":"{{{state}}}", "zip":"{{{zip}}}", "email":"{{{email}}}","username":"{{{ username }}}","password":"{{ password }}"},
         "match":{
           "json":"$.message",
           "value":"{{{fname}}} was registered successfully"
         }
        }
      },
      {"post": {
          "url": "/login",
          "json": {"username":"{{{username}}}","password":"{{{password}}}"},
          "match":{
            "json":"$.message",
            "value":"Welcome {{{fname}}}"
          }
         }
       },
       {"post": {
         "url": "/viewUsers",
         "match":{
           "json":"$.message",
           "value":"You must be an admin to perform this action"
         }
        }
      },
      {"post": {
        "url": "/logout",
        "match":{
          "json":"$.message",
          "value":"You have been successfully logged out"
        }
       }
     },
     {"post": {
         "url": "/login",
         "json": {"username":"jadmin","password":"admin"},
         "match":{
           "json":"$.message",
           "value":"Welcome Jenny"
         }
        }
      },
      {"post": {
        "url": "/addProducts",
        "json": {"asin":"{{{asin}}}", "productName":"{{productName}}", "productDescription":"{{{productDescription}}}","group":"{{{group}}}"},
        "match":{
          "json":"$.message",
          "value":"{{{productName}}} was successfully added to the system"
        }
       }
     },
     {"post": {
       "url": "/modifyProduct",
       "json": {"asin":"{{{asin}}}", "productName":"Sound of Music", "productDescription":"{{{productDescription}}}","group":"{{{group}}}"},
       "match":{
         "json":"$.message",
         "value":"Sound of Music was successfully updated"
       }
      }
    },
    {"post": {
      "url": "/viewProducts",
      "json": {"keyword":"Sound", "group":"{{group}}"},
      "match":{
        "json":"$.product[*].productName",
        "value":"Sound of Music"
      }
     }
    },
	 {"post": {
         "url": "/registerUser",
         "json": {"fname":"{{{fname}}}","address":"{{{address}}}","city":"{{{city}}}","state":"{{{state}}}", "zip":"{{{zip}}}", "email":"{{{email}}}","username":"{{{ username }}}","password":"{{ password }}"},
         "match":{
           "json":"$.message",
           "value":"The input you provided is not valid"
         }
        }
      },
	 {"post": {
          "url": "/login",
          "json": {"username":"{{{ username }}}","password":"{{ password }}"},
          "match":{
            "json":"$.message",
            "value":"Welcome {{{fname}}}"
          }
         }
       },
	        {"post": {
        "url": "/addProducts",
        "json": {"asin":"{{{asin}}}", "productName":"{{productName}}", "productDescription":"{{{productDescription}}}","group":"{{{group}}}"},
        "match":{
          "json":"$.message",
          "value":"You must be an admin to perform this action"
        }
       }
     },
  {"post": {
         "url": "/updateInfo",
         "json": {"fname":"HelloJi", "lname":"=Seenu", "address":"{{{address}}}","city":"{{{city}}}","state":"{{{state}}}", "zip":"{{{zip}}}", "email":"{{{email}}}","username":"{{{ username }}}","password":"{{ password }}"},
         "match":{
           "json":"$.message",
           "value":"HelloJi your information was successfully updated"
         }
        }
      },	 
	 {"post": {
         "url": "/login",
         "json": {"username":"jadmin","password":"admin"},
         "match":{
           "json":"$.message",
           "value":"Welcome Jenny"
         }
        }
      },
	  {"post": {
         "url": "/viewUsers",
		 "json": {"fname":"HelloJi", "lname":"=Seenu"},
         "match":{
           "json":"$.user[*].fname",
           "value":"HelloJi"
         }
        }
      },
	  {"post": {
         "url": "/viewUsers",
		 "json": {"fname":"Ramu", "lname":"=Seenu"},
         "match":{
           "json":"$.message",
           "value":"There are no users that match that criteria"
         }
        }
      },
     ]
    }
  ]
}
